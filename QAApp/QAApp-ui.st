WAComponent subclass: #ElementoEncabezado	instanceVariableNames: 'nomUsuario nombreApp'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 11:33'!renderContentOn: aCanvas	self subclassResponsibility ! !!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:51'!renderizarBuscarUsuarios: aCanvas	aCanvas form class: 'input-group col-md my-auto py-2 h-100'; with: [ 		aCanvas textInput class: 'form-control'; placeholder: 'Buscar usuarios'; on: #nomUsuario of: self.				aCanvas div class: 'input-group-append'; with: [ 			aCanvas submitButton class: 'btn btn-outline-secondary'; callback: [ 				self answer: (					PantallaBusquedaUsuarios						usuarios: (QAApp soleInstance buscarUsuariosPorNombre: nomUsuario)						titulo: 'Usuarios encontrados'				)			 ]; with: 'Buscar'.		 ].	 ].! !!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:09'!renderizarCerrar: aCanvas					aCanvas anchor		class: 'col-auto btn btn-danger h-100 my-auto mx-1';		callback: [ 			self answer: Login new		];		with: 'Salir'.! !!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:00'!renderizarNombreAppSinLink:aCanvas	aCanvas heading level: 1; class: 'col-md-auto col-12 mt-3'; with: QAApp soleInstance nombre.! !!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:09'!renderizarNombreAppConLink: aCanvas	aCanvas anchor class: 'col-auto'; callback: [ self answer: PantallaHome new ]; with: [ 		aCanvas heading level: 1; class: 'mt-3'; with: QAApp soleInstance nombre.	].! !!ElementoEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 01:43'!renderizarUsuario: aCanvas					aCanvas strong		class: 'col-auto my-auto';		with: self session user nombre.! !!ElementoEncabezado methodsFor: 'initialization' stamp: 'Anonymous 12/30/2023 21:59'!initialize	super initialize.	nombreApp := (QAApp soleInstance nombre).! !!ElementoEncabezado methodsFor: 'accesing' stamp: 'Anonymous 12/26/2023 01:12'!nomUsuario: unNombre	nomUsuario := unNombre.! !!ElementoEncabezado methodsFor: 'accesing' stamp: 'Anonymous 12/26/2023 00:12'!nomUsuario	^nomUsuario.! !ElementoEncabezado subclass: #ElementoEncabezadoAcceso	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoEncabezadoAcceso methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 19:05'!renderContentOn: aCanvas	aCanvas div		class: 'container';		with: [ 			self renderizarNombreAppSinLink: aCanvas.		 ].	aCanvas horizontalRule class: 'my-2'.! !ElementoEncabezado subclass: #ElementoEncabezadoLogeado	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoEncabezadoLogeado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:48'!renderizarMisPreguntas: aCanvas	aCanvas anchor		class: 'col-auto btn btn-secondary h-100 my-auto mx-1';		callback: [ self				answer:					(PantallaListaPreguntas						preguntas: self session user preguntas						titulo: 'Mis preguntas') ];		with: 'Preguntas'.		! !!ElementoEncabezadoLogeado methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:10'!renderContentOn: aCanvas	aCanvas div class: 'container'; with: [ 		aCanvas div class: 'row'; with: [ 			self renderizarNombreAppSinLink: aCanvas.			self renderizarBuscarUsuarios: aCanvas.			self renderizarUsuario: aCanvas.			self renderizarMisPreguntas: aCanvas.			self renderizarCerrar: aCanvas.		].	].	aCanvas horizontalRule class: 'my-2'.! !ElementoEncabezadoLogeado subclass: #ElementoEncabezadoLogeadoInterno	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoEncabezadoLogeadoInterno methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:10'!renderContentOn: aCanvas	aCanvas div class: 'container'; with: [ 		aCanvas div class: 'row'; with: [ 			self renderizarNombreAppConLink: aCanvas.			self renderizarUsuario: aCanvas.			self renderizarMisPreguntas: aCanvas.			self renderizarCerrar: aCanvas.		].	].	aCanvas horizontalRule class: 'my-2'.! !WAComponent subclass: #ElementoPublicacion	instanceVariableNames: 'autor publicacion'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 4/11/2021 10:48'!renderContentOn: aCanvas	self subclassResponsibility ! !!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/25/2023 23:54'!renderizarAutorConLink: aCanvas	aCanvas anchor class: 'col-auto h-100 my-1'; callback: [ 		(self autor == self session user) ifTrue: [			self answer: (PantallaListaPreguntas preguntas: self session user preguntas titulo: 'Mis preguntas')		] ifFalse: [ self abrirAutor ].	]; with: self autor nombre.! !!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarAccionValorar: aCanvas	aCanvas anchor		class: 'col-auto btn btn-outline-success mx-1 my-1';		callback: [ publicacion  valorarConUsuario: self session user valor: true ];		with: 'Me gusta'.		aCanvas anchor		class: 'col-auto btn btn-outline-danger mx-1 my-1';		callback: [ publicacion  valorarConUsuario: self session user valor: true ];		with: 'No me gusta'.! !!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 18:07'!renderizarContenido: aCanvas	aCanvas paragraph class: 'col-auto h-100 my-2'; with: publicacion contenido! !!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarValoraciones: aCanvas	aCanvas paragraph		class: 'col-auto h-100 my-2';		with: publicacion cantidadValoracionesPositivas printString , ' me gustas, ', publicacion cantidadValoracionesNegativas printString , ' no me gustas'.! !!ElementoPublicacion methodsFor: 'rendering' stamp: 'Anonymous 4/12/2021 17:00'!renderizarCampoContenido: aCanvas	aCanvas paragraph: 'Cuerpo de la pregunta:'.			aCanvas textInput on: #contenido of: self.! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/11/2021 10:54'!autor^autor! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 13:03'!buscarAutor	self subclassResponsibility ! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 12:59'!publicacion: unaPublicacion	publicacion := unaPublicacion.	self reestablecerAutor ! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/11/2021 10:58'!reestablecerAutor	autor := self buscarAutor! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 12:47'!publicacion	^publicacion	! !!ElementoPublicacion methodsFor: 'accesing' stamp: 'Anonymous 12/25/2023 23:31'!abrirAutor	self answer: (PantallaUsuario usuario: autor)! !ElementoPublicacion subclass: #ElementoCrearPublicacion	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoCrearPublicacion methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 17:44'!buscarAutor	^self session user! !!ElementoCrearPublicacion methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 20:15'!initialize 	super initialize .	self inicializarPublicacionACrear ! !!ElementoCrearPublicacion methodsFor: 'creation' stamp: 'Anonymous 4/12/2021 17:48'!crearPublicacionself subclassResponsibility ! !!ElementoCrearPublicacion methodsFor: 'creation' stamp: 'Anonymous 4/12/2021 18:04'!contenido 	^self publicacion contenido! !!ElementoCrearPublicacion methodsFor: 'creation' stamp: 'Anonymous 4/12/2021 17:45'!inicializarPublicacionACrear	self subclassResponsibility ! !!ElementoCrearPublicacion methodsFor: 'creation' stamp: 'Anonymous 4/12/2021 18:04'!contenido: unContenido	^ self publicacion contenido: unContenido ! !!ElementoCrearPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarContenido: aCanvas	aCanvas paragraph class: 'col-12 mt-2 mb-1'; with: 'Cotenido'.	aCanvas textInput class: 'col-12 form-control'; on: #contenido of: self.! !!ElementoCrearPublicacion methodsFor: 'rendering' stamp: 'Anonymous 4/12/2021 17:44'!renderContentOn: aCanvas	self subclassResponsibility ! !!ElementoCrearPublicacion methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarBotonCrear: aCanvas	aCanvas submitButton		class: 'col me-3 mt-3 btn btn-success';		callback: [ self crearPublicacion ];		with: 'Publicar'.! !ElementoCrearPublicacion subclass: #ElementoCrearPregunta	instanceVariableNames: 'topicos'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoCrearPregunta methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 18:43'!titulo	^self publicacion titulo! !!ElementoCrearPregunta methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 18:43'!titulo: unTituloself publicacion titulo: unTitulo! !!ElementoCrearPregunta methodsFor: 'accesing' stamp: 'Anonymous 4/13/2021 23:35'!topicos: unTexto	topicos := unTexto ! !!ElementoCrearPregunta methodsFor: 'accesing' stamp: 'Anonymous 4/13/2021 23:35'!topicos	^ topicos! !!ElementoCrearPregunta methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 23:29'!inicializarPublicacionACrear	self publicacion: Pregunta new.	topicos := ''! !!ElementoCrearPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 02:19'!renderContentOn: aCanvas	aCanvas form: [ 		aCanvas heading			level: 3;			with: 'Nueva pregunta'.		self renderizarTitulo: aCanvas.		self renderizarContenido: aCanvas.		self renderizarTopicos: aCanvas.		self renderizarBotonCrear: aCanvas	 ].! !!ElementoCrearPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarTitulo: aCanvas	aCanvas paragraph class: 'col-12 mt-2 mb-1'; with: 'Titulo'.	aCanvas textInput class: 'col-12 form-control'; on: #titulo of: self.! !!ElementoCrearPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:11'!renderizarTopicos: aCanvas	aCanvas paragraph class: 'col-12 mt-2 mb-1'; with: 'Topicos'.	aCanvas textInput class: 'col-12 form-control'; on: #topicos of: self.! !!ElementoCrearPregunta methodsFor: 'creation' stamp: 'Anonymous 12/30/2023 21:51'!crearPublicacion	| coleccionDeTopicos |	coleccionDeTopicos := ((QAApp soleInstance		obtenerTopicosDeTexto: topicos)		collect: [ :t | QAApp soleInstance filtrarTopicoExistente: t ]).	self publicacion agregarTodosLosTopicos: coleccionDeTopicos.	QAApp soleInstance		agregarPregunta: self publicacion		conUsuario: self autor.	self answer! !ElementoCrearPublicacion subclass: #ElementoCrearRespuesta	instanceVariableNames: 'preguntaAResponder'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoCrearRespuesta methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:50'!renderContentOn: aCanvas	aCanvas		form: [ self renderizarContenido: aCanvas.			self renderizarBotonCrear: aCanvas ]! !!ElementoCrearRespuesta methodsFor: 'creation' stamp: 'Anonymous 12/30/2023 21:51'!crearPublicacion	QAApp soleInstance		agregarRespuesta: self publicacion		aPregunta: preguntaAResponder		conUsuario: self autor.	self answer.! !!ElementoCrearRespuesta methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 18:34'!inicializarPublicacionACrear	self publicacion: Respuesta new! !!ElementoCrearRespuesta methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 01:01'!inicializarConPreguntaAResponder: unaPregunta	self initialize.	preguntaAResponder := unaPregunta ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ElementoCrearRespuesta class	instanceVariableNames: ''!!ElementoCrearRespuesta class methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 18:01'!preguntaAResponder: unaPregunta 	^(self new) inicializarConPreguntaAResponder: unaPregunta ; yourself ! !ElementoPublicacion subclass: #ElementoPregunta	instanceVariableNames: 'elementosRespuesta'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoPregunta methodsFor: 'private' stamp: 'Anonymous 12/25/2023 23:45'!obtenerRespuestas	elementosRespuesta := OrderedCollection new.	elementosRespuesta := (publicacion respuestas)		collect: [ :r | 			ElementoRespuestaCompleta new				publicacion: r;				onAnswer: [ :valor | self answer: valor ];				yourself		 ].! !!ElementoPregunta methodsFor: 'accesing' stamp: 'Anonymous 4/13/2021 23:06'!abrirPregunta	self answer: (PantallaPregunta pregunta: publicacion)! !!ElementoPregunta methodsFor: 'accesing' stamp: 'Anonymous 12/30/2023 21:51'!buscarAutor	^ QAApp soleInstance autorDePregunta: self publicacion! !!ElementoPregunta methodsFor: 'initialization' stamp: 'Anonymous 12/25/2023 23:13'!initialize	super initialize.! !!ElementoPregunta methodsFor: 'initialization' stamp: 'Anonymous 12/25/2023 23:22'!inicializarConPregunta: unaPregunta	self initialize.	self publicacion: unaPregunta.				! !!ElementoPregunta methodsFor: 'rendering' stamp: 'Anonymous 4/10/2021 21:35'!renderContentOn: aCanvas	self subclassResponsibility ! !!ElementoPregunta methodsFor: 'rendering' stamp: 'Anonymous 4/12/2021 12:55'!renderizarTituloSinLink: aCanvas	aCanvas heading		level: 1;		with: publicacion titulo! !!ElementoPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/25/2023 23:37'!renderizarRespuestas: aCanvas	aCanvas heading level: 5; class: 'text-secondary my-3'; with: 'Respuestas'.	self obtenerRespuestas.	elementosRespuesta do: [ :r | aCanvas render: r ].! !!ElementoPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/25/2023 23:09'!renderizarResponder: aCanvas	aCanvas anchor		class: 'col-auto btn btn-primary h-100 mx-1 my-auto';		callback: [ self answer: (PantallaResponder pregunta: publicacion) ];		with: 'Responder'.! !!ElementoPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:49'!renderizarTituloConLink: aCanvas	aCanvas anchor		callback: [ self abrirPregunta ];		with: [ aCanvas heading				level: 1;				with: publicacion titulo ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ElementoPregunta class	instanceVariableNames: ''!!ElementoPregunta class methodsFor: 'initialization' stamp: 'Anonymous 4/10/2021 23:10'!pregunta: unaPregunta ^(self new) inicializarConPregunta: unaPregunta; yourself ! !ElementoPregunta subclass: #ElementoPreguntaCompleta	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoPreguntaCompleta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:12'!renderContentOn: aCanvas	aCanvas div		class: 'col-12 card px-0 mt-3';		with: [ 			aCanvas div				class: 'card-header';				with: [ self renderizarAutorConLink: aCanvas. ].						aCanvas div				class: 'card-body pb-1';				with: [ 					aCanvas heading level: 5; class: 'card-title'; with: publicacion titulo.					aCanvas paragraph class: 'card-text'; with: publicacion contenido.					aCanvas div						class: 'row';						with: [ 							self renderizarResponder: aCanvas.							aCanvas div class: 'col'.							self renderizarValoraciones: aCanvas.							self renderizarAccionValorar: aCanvas.						 ].					aCanvas horizontalRule class: 'my-2'.										self renderizarRespuestas: aCanvas.				 ].		 ].! !ElementoPregunta subclass: #ElementoPreguntaPropia	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoPreguntaPropia methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 19:57'!renderContentOn: aCanvas	aCanvas div class: 'col-12 card px-0 mt-3'; with: [ 		aCanvas div class: 'card-body pb-1'; with: [ 			aCanvas heading level: 5; class: 'card-title'; with: publicacion titulo.			aCanvas paragraph class: 'card-text'; with: publicacion contenido.			self renderizarValoraciones: aCanvas.					aCanvas horizontalRule class: 'my-2'.					self renderizarRespuestas: aCanvas.		 ].	 ].! !ElementoPregunta subclass: #ElementoPreguntaSemiCompleta	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoPreguntaSemiCompleta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:12'!renderContentOn: aCanvas	aCanvas div		class: 'col-12 card px-0 mt-3';		with: [ 			aCanvas div				class: 'card-header';				with: [					aCanvas anchor						callback: [ self abrirAutor ];						with: self autor nombre.				].						aCanvas div				class: 'card-body pb-2';				with: [ 					aCanvas heading						level: 5;						class: 'card-title';						with: publicacion titulo.					aCanvas paragraph						class: 'card-text';						with: publicacion contenido.					aCanvas div						class: 'row';						with: [ 							self renderizarAccionValorar: aCanvas.							aCanvas div class: 'col'.							self renderizarValoraciones: aCanvas.						 ].				 ].		 ].! !ElementoPublicacion subclass: #ElementoRespuesta	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoRespuesta methodsFor: 'rendering' stamp: 'Anonymous 4/11/2021 10:24'!renderContentOn: aCanvasself subclassResponsibility ! !!ElementoRespuesta methodsFor: 'initialization' stamp: 'Anonymous 4/11/2021 10:34'!initialize	super initialize! !!ElementoRespuesta methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 13:04'!inicializarConRespuesta: unaRespuesta	self initialize.	self publicacion: unaRespuesta! !!ElementoRespuesta methodsFor: 'accesing' stamp: 'Anonymous 12/30/2023 21:51'!buscarAutor	^ QAApp soleInstance autorDeRespuesta: self publicacion! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ElementoRespuesta class	instanceVariableNames: ''!!ElementoRespuesta class methodsFor: 'intialization' stamp: 'Anonymous 12/25/2023 23:24'!respuesta: unaRespuesta	^(self new) inicializarConRespuesta: unaRespuesta; yourself! !ElementoRespuesta subclass: #ElementoRespuestaCompleta	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoRespuestaCompleta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 22:12'!renderContentOn: aCanvas	aCanvas div class: 'card row mt-2 bg-light'; with: [ 		self renderizarAutorConLink: aCanvas.		self renderizarContenido: aCanvas.	 ].! !WAComponent subclass: #ElementoUsuario	instanceVariableNames: 'usuario'	classVariableNames: ''	package: 'QAApp-ui'!!ElementoUsuario methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 15:07'!initialize 	super initialize! !!ElementoUsuario methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 15:09'!inicializarConUsuario: unUsuario	self initialize.	usuario := unUsuario! !!ElementoUsuario methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 16:21'!usuario ^usuario! !!ElementoUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:15'!renderizarCantidadPreguntas: aCanvas 	aCanvas paragraph class: 'col-auto'; with: 'Cantidad de preguntas: ' , usuario preguntas size asString ! !!ElementoUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/26/2023 00:18'!renderContentOn: aCanvasself subclassResponsibility ! !!ElementoUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/26/2023 01:17'!renderizarAccionSeguir: aCanvas	(self session user sigueA: usuario) ifTrue: [ 		aCanvas anchor			class: 'col-auto my-auto h-100 btn btn-outline-danger';			callback: [ self session user seguir: usuario ];			with: 'Dejar de seguir'.	 ] ifFalse: [ 		aCanvas anchor			class: 'col-auto my-auto h-100 btn btn-outline-success';			callback: [ self session user seguir: usuario ];			with: 'Seguir'.	 ].! !!ElementoUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:20'!renderizarNombre: aCanvas	aCanvas heading class: 'col-auto'; level: 2; with: usuario nombre.! !!ElementoUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:15'!renderizarPuntaje: aCanvas	aCanvas paragraph class: 'col-auto'; with: 'Puntaje de usuario: ' , usuario puntaje asString ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ElementoUsuario class	instanceVariableNames: ''!!ElementoUsuario class methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 15:09'!usuario: unUsuario	^(self new) inicializarConUsuario: unUsuario; yourself! !ElementoUsuario subclass: #ElementoUsuarioBusqueda	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoUsuarioBusqueda methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:29'!renderContentOn: aCanvas	aCanvas div class: 'col-12 card my-2'; with: [		aCanvas div class: 'card-body row py-1'; with: [ 			aCanvas anchor class: 'col my-auto h-100'; callback: [ self answer: (PantallaUsuario usuario: self usuario) ]; with: self usuario nombre.			self renderizarAccionSeguir: aCanvas.		 ].	 ].! !ElementoUsuario subclass: #ElementoUsuarioPerfil	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!ElementoUsuarioPerfil methodsFor: 'rendering' stamp: 'Anonymous 12/26/2023 00:15'!renderContentOn: aCanvas	aCanvas div class: 'col-12'; with: [ 		aCanvas div class: 'row'; with: [ 			self renderizarNombre: aCanvas.			usuario = self session user ifFalse: [ self renderizarAccionSeguir: aCanvas ].		 ].			aCanvas div class: 'row'; with: [ 			self renderizarCantidadPreguntas: aCanvas.			self renderizarPuntaje: aCanvas.		 ].	 ].	aCanvas horizontalRule class: 'my-2'.! !WAComponent subclass: #PantallaConEncabezado	instanceVariableNames: 'encabezado'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaConEncabezado methodsFor: 'initialization' stamp: 'Anonymous 4/15/2021 20:22'!initialize	super initialize.	encabezado := self tipoEncabezado.	encabezado onAnswer: [ :p | self call: p ]! !!PantallaConEncabezado methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 11:43'!tipoEncabezado	self subclassResponsibility ! !!PantallaConEncabezado methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 20:22'!renderizarCuerpo: aCanvas	self subclassResponsibility ! !!PantallaConEncabezado methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 20:21'!renderContentOn: aCanvas	aCanvas render: encabezado .	self renderizarCuerpo: aCanvas! !!PantallaConEncabezado methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 01:56'!baseContainer: aCanvas with: innerHtml	aCanvas div		class: 'container';		with: innerHtml.! !!PantallaConEncabezado methodsFor: 'updating' stamp: 'Anonymous 12/24/2023 18:47'!addBootstrapToHtmlRoot: anHtml  anHtml meta name: 'viewport'; content: 'width=device-width, initial-scale=1'.  (anHtml stylesheet url:    'https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css')      attributes        at: 'integrity'        put: 'sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC';    at: 'crossorigin' put: 'anonymous'.  (anHtml script url:    'https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js')      attributes    at: 'integrity'        put: 'sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM';        at: 'crossorigin' put: 'anonymous'.! !!PantallaConEncabezado methodsFor: 'updating' stamp: 'Anonymous 12/30/2023 22:12'!updateRoot: anHtml	super updateRoot: anHtml.	anHtml stylesheet url:'https://fonts.googleapis.com/css?family=Comfortaa'.	self addBootstrapToHtmlRoot: anHtml.! !PantallaConEncabezado subclass: #PantallaAcceso	instanceVariableNames: 'nomUsuario contrasenia'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaAcceso methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:54'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas div class: 'row'; with: [ 			aCanvas form: [ 				self renderizarIngresoDatos: aCanvas.				self renderizarBotones: aCanvas.			 ].		 ].	 ].! !!PantallaAcceso methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:54'!renderizarIngresoDatos: aCanvas	aCanvas paragraph class: 'col-12 mt-2 mb-1'; with: 'Usuario'.	aCanvas textInput class: 'col-12 form-control'; on: #nomUsuario of: self.	aCanvas paragraph class: 'col-12 mt-2 mb-1'; with: 'Contraseña'.	aCanvas passwordInput class: 'col-12 form-control'; on: #contrasenia of: self.! !!PantallaAcceso methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 12:14'!renderizarBotones:aCanvas	self subclassResponsibility ! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 12:07'!nomUsuario: unNombre	nomUsuario:= unNombre.! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 12:08'!contrasenia: unaContrasenia	contrasenia  := unaContrasenia! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 13:15'!tipoEncabezado	^ElementoEncabezadoAcceso new! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 12:07'!nomUsuario	^nomUsuario! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 12/11/2023 16:48'!procederCon: aUser	self session user: aUser.	self call: PantallaHome new! !!PantallaAcceso methodsFor: 'accesing' stamp: 'Anonymous 4/15/2021 12:08'!contrasenia	^contrasenia! !PantallaAcceso subclass: #Login	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!Login methodsFor: 'accesing' stamp: 'FirstnameLastname 4/7/2021 14:42'!registrarUsuario	self call: Registrar new! !!Login methodsFor: 'private protocol' stamp: 'Anonymous 12/30/2023 21:51'!login	(QAApp soleInstance		iniciarSesionConNombre: nomUsuario		contrasenia: contrasenia)		ifNotNil: [ :it | self procederCon: it ]		ifNil: [ nomUsuario := nil.			contrasenia := nil ]! !!Login methodsFor: 'rendering' stamp: 'Anonymous 12/23/2023 16:35'!renderizarBotones: aCanvas	aCanvas div		class: 'mt-3';		with: [ 			aCanvas submitButton				class: 'col me-3 btn btn-primary';				callback: [ self login ];				with: 'Iniciar sesión'.							aCanvas submitButton				class: 'col btn btn-secondary';				callback: [ self registrarUsuario ];				with: 'Registrar'.		].! !!Login methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 01:21'!initialize	super initialize.! !PantallaConEncabezado subclass: #PantallaHome	instanceVariableNames: 'preguntas'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaHome commentStamp: 'Anonymous 12/30/2023 22:07' prior: 0!(WAAdmin register: Login asApplicationAt: '/qaapp') preferenceAt: #sessionClass put: SesionDeUsuario.!!PantallaHome methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:55'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		self renderizarNuevaPregunta: aCanvas.		self renderizarPreguntasRelevantes: aCanvas.	 ].! !!PantallaHome methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:55'!renderizarNuevaPregunta: aCanvas	aCanvas div		class: 'col-12 card px-0';		with: [			aCanvas div				class: 'card-header';				with: 'Nueva pregunta'.						aCanvas div				class: 'card-body';				with: [ 					aCanvas heading						level: 5;						class: 'card-title';						with: '¿Quieres hacer una nueva pregunta?'.					aCanvas paragraph						class: 'card-text';						with: 'Puedes crear una nueva pregunta y publicarla a los usuarios.'.					aCanvas anchor						class: 'btn btn-primary';						callback: [ self call: PantallaNuevaPregunta new ];						with: 'Nueva pregunta'.				 ].		 ].! !!PantallaHome methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 18:41'!renderizarPreguntasRelevantes: aCanvas	aCanvas heading		class: 'col-12 mb-3 mt-4';		level: 3;		with: 'Ultimas preguntas'.	self obtenerPreguntas.	preguntas do: [ :p | aCanvas render: p ]! !!PantallaHome methodsFor: 'private' stamp: 'Anonymous 12/24/2023 01:47'!tipoEncabezado	^ ElementoEncabezadoLogeado new! !!PantallaHome methodsFor: 'private' stamp: 'Anonymous 12/30/2023 21:51'!obtenerPreguntas	preguntas := OrderedCollection new.	preguntas := ((QAApp soleInstance		preguntasRelevantesParaUsuario: self session user) takeFirst: 5)		collect: [ :p |  ElementoPreguntaCompleta new				publicacion: p;				onAnswer: [ :valor | self call: valor ];				yourself ]! !!PantallaHome methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 15:00'!initialize	super initialize.	preguntas := OrderedCollection new! !PantallaConEncabezado subclass: #PantallaNoHome	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!PantallaNoHome methodsFor: 'accesing' stamp: 'Anonymous 12/24/2023 01:50'!tipoEncabezado	^ ElementoEncabezadoLogeadoInterno new! !!PantallaNoHome methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 20:23'!renderizarCuerpo: aCanvas	self subclassResponsibility! !!PantallaNoHome methodsFor: 'rendering' stamp: 'Anonymous 12/24/2023 17:53'!renderizarBotonCancelar: aCanvas	aCanvas anchor		class: 'btn btn-secondary ms-2 mt-2 col-auto';		callback: [ self answer ];		with: 'Cancelar'.! !PantallaNoHome subclass: #PantallaBusquedaUsuarios	instanceVariableNames: 'usuarios elementosUsuario titulo'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaBusquedaUsuarios methodsFor: 'rendering' stamp: 'Anonymous 12/26/2023 00:23'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas heading class: 'col-12'; level: 2; with: titulo.		elementosUsuario do: [ :r | aCanvas render: r ].	 ].! !!PantallaBusquedaUsuarios methodsFor: 'initialization' stamp: 'Anonymous 12/26/2023 00:24'!initialize	super initialize.! !!PantallaBusquedaUsuarios methodsFor: 'initialization' stamp: 'Anonymous 12/26/2023 01:22'!inicializarConUsuarios: unosUsuarios Titulo: unTitulo	usuarios := unosUsuarios.	titulo := unTitulo.	elementosUsuario := OrderedCollection new.	elementosUsuario := (usuarios reject: [ :u | u == self session user ])		collect: [ :u | 			ElementoUsuarioBusqueda new				inicializarConUsuario: u;				onAnswer: [ :valor | self call: valor ];				yourself ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaBusquedaUsuarios class	instanceVariableNames: ''!!PantallaBusquedaUsuarios class methodsFor: 'initialization' stamp: 'Anonymous 12/26/2023 00:25'!usuarios: unosUsuarios titulo: unTitulo	^ self new	inicializarConUsuarios: unosUsuarios Titulo: unTitulo;	yourself! !PantallaNoHome subclass: #PantallaListaPreguntas	instanceVariableNames: 'preguntas elementosPregunta titulo'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaListaPreguntas methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:55'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas heading class: 'col-12'; level: 2; with: titulo.		elementosPregunta do: [ :r | aCanvas render: r ].	 ].! !!PantallaListaPreguntas methodsFor: 'initialization' stamp: 'Anonymous 12/25/2023 23:20'!inicializarConPreguntas: unasPreguntas Titulo: unTitulo	preguntas := unasPreguntas.	titulo := unTitulo.	elementosPregunta := OrderedCollection new.	elementosPregunta := preguntas		collect: [ :p | 			ElementoPreguntaPropia new				publicacion: p;				onAnswer: [ :valor | self call: valor ];				yourself ]! !!PantallaListaPreguntas methodsFor: 'initialization' stamp: 'Anonymous 12/11/2023 15:50'!initialize super initialize! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaListaPreguntas class	instanceVariableNames: ''!!PantallaListaPreguntas class methodsFor: 'initialization' stamp: 'Anonymous 12/11/2023 15:49'!preguntas: unasPreguntas titulo: unTitulo	^ self new	inicializarConPreguntas: unasPreguntas Titulo: unTitulo;	yourself! !PantallaNoHome subclass: #PantallaNuevaPregunta	instanceVariableNames: 'elementoCrearPregunta'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaNuevaPregunta methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:55'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas div			class: 'row';			with: [ 				aCanvas render: elementoCrearPregunta.				self renderizarBotonCancelar: aCanvas.			 ].	 ].! !!PantallaNuevaPregunta methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 23:47'!initialize	super initialize.	elementoCrearPregunta := ElementoCrearPregunta new.	elementoCrearPregunta onAnswer: [ self answer ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaNuevaPregunta class	instanceVariableNames: 'valor'!PantallaNoHome subclass: #PantallaPregunta	instanceVariableNames: 'elementoPreguntaSemiCompleta respuestas'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaPregunta methodsFor: 'initialization' stamp: 'Anonymous 4/10/2021 23:35'!initialize super initialize! !!PantallaPregunta methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 16:33'!inicializarConPregunta: unaPregunta	self initialize.	elementoPreguntaSemiCompleta := ElementoPreguntaSemiCompleta		pregunta: unaPregunta.	elementoPreguntaSemiCompleta		onAnswer: [ :valor | self call: valor ].	respuestas := OrderedCollection new! !!PantallaPregunta methodsFor: 'rendering' stamp: 'Anonymous 4/15/2021 20:32'!renderizarCuerpo: aCanvas	aCanvas		form: [			aCanvas render: elementoPreguntaSemiCompleta.			self renderizarResponder: aCanvas.			self renderizarRespuestas: aCanvas ]! !!PantallaPregunta methodsFor: 'rendering' stamp: 'Anonymous 4/11/2021 17:04'!renderizarRespuestas: aCanvas	aCanvas heading		level: 1;		with: 'Respuestas'.	self obtenerRespuestas.	aCanvas unorderedList: [ respuestas do: [ :r | aCanvas render: r ] ]! !!PantallaPregunta methodsFor: 'rendering' stamp: 'Anonymous 4/13/2021 00:54'!renderizarResponder: aCanvas	aCanvas		form: [ aCanvas submitButton				callback: [ self						call:							(PantallaResponder pregunta: elementoPreguntaSemiCompleta publicacion ) ];				with: 'Agregar respuesta' ]! !!PantallaPregunta methodsFor: 'private' stamp: 'Anonymous 4/12/2021 16:32'!obtenerRespuestas	respuestas := OrderedCollection new.	respuestas := elementoPreguntaSemiCompleta publicacion respuestas		collect: [ :r | 			ElementoRespuestaCompleta new				publicacion: r;				onAnswer: [ :valor | self call: valor ];				yourself ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaPregunta class	instanceVariableNames: ''!!PantallaPregunta class methodsFor: 'initialization' stamp: 'Anonymous 4/10/2021 23:33'!pregunta: unaPregunta ^(self new) inicializarConPregunta: unaPregunta; yourself! !PantallaNoHome subclass: #PantallaResponder	instanceVariableNames: 'elementoPregunta elementoCrearRespuesta'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaResponder methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:55'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas render: elementoPregunta.		aCanvas render: elementoCrearRespuesta.		self renderizarBotonCancelar: aCanvas.	 ].! !!PantallaResponder methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 01:01'!initialize	super initialize.! !!PantallaResponder methodsFor: 'initialization' stamp: 'Anonymous 12/24/2023 17:57'!inicializarConPregunta: unaPregunta	self initialize.	elementoPregunta := ElementoPreguntaSemiCompleta pregunta: unaPregunta.	elementoPregunta onAnswer: [ :valor | self call: valor ].	elementoCrearRespuesta := ElementoCrearRespuesta preguntaAResponder: unaPregunta.	elementoCrearRespuesta onAnswer: [ self answer ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaResponder class	instanceVariableNames: ''!!PantallaResponder class methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 00:46'!pregunta: unaPregunta^(self new) inicializarConPregunta: unaPregunta; yourself ! !PantallaNoHome subclass: #PantallaUsuario	instanceVariableNames: 'elementoUsuario preguntas'	classVariableNames: ''	package: 'QAApp-ui'!!PantallaUsuario methodsFor: 'accesing' stamp: 'Anonymous 4/12/2021 16:25'!obtenerPreguntasDeUsuario	preguntas := OrderedCollection new.	preguntas := elementoUsuario usuario preguntas		collect: [ :p | 			ElementoPreguntaCompleta new				publicacion: p;				onAnswer: [ :valor | self call: valor ];				yourself ]! !!PantallaUsuario methodsFor: 'initialization' stamp: 'Anonymous 4/13/2021 00:38'!initialize	super initialize.	preguntas := OrderedCollection new! !!PantallaUsuario methodsFor: 'initialization' stamp: 'Anonymous 12/26/2023 00:16'!inicializarConUsuario: unUsuario	self initialize.	elementoUsuario := ElementoUsuarioPerfil usuario: unUsuario.	! !!PantallaUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:56'!renderizarCuerpo: aCanvas	self baseContainer: aCanvas with: [ 		aCanvas render: elementoUsuario.		self renderizarPreguntas: aCanvas.	 ].! !!PantallaUsuario methodsFor: 'rendering' stamp: 'Anonymous 12/30/2023 21:38'!renderizarPreguntas: aCanvas	aCanvas div class: 'row'; with: [ 		aCanvas heading class: 'col my-2'; level: 4; with: 'Preguntas de ', elementoUsuario usuario nombre.	 ].		self obtenerPreguntasDeUsuario.	preguntas do: [ :p | aCanvas render: p ].! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PantallaUsuario class	instanceVariableNames: ''!!PantallaUsuario class methodsFor: 'initialization' stamp: 'Anonymous 4/12/2021 15:12'!usuario: unUsuario	^ self new		inicializarConUsuario: unUsuario;		yourself! !WAApplication subclass: #QAUI	instanceVariableNames: 'urlBase waapp htmlRoot'	classVariableNames: ''	package: 'QAApp-ui'!!QAUI methodsFor: 'tools registry' stamp: 'Anonymous 12/18/2023 19:08'!register	waapp := WAAdmin register: Login asApplicationAt: urlBase.! !!QAUI methodsFor: 'initialization' stamp: 'Anonymous 12/18/2023 19:09'!setSession	waapp preferenceAt: #sessionClass put: SesionDeUsuario.! !!QAUI methodsFor: 'initialization' stamp: 'Anonymous 12/18/2023 19:09'!inicializarConUrlBase: unaUrlBase	urlBase := unaUrlBase.	self register.	self setSession.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!QAUI class	instanceVariableNames: ''!!QAUI class methodsFor: 'initialization' stamp: 'Anonymous 12/18/2023 19:11'!urlBase: unaUrl	^ self new	inicializarConUrlBase: unaUrl;	yourself! !PantallaAcceso subclass: #Registrar	instanceVariableNames: ''	classVariableNames: ''	package: 'QAApp-ui'!!Registrar methodsFor: 'rendering' stamp: 'Anonymous 12/23/2023 16:33'!renderizarBotones: aCanvas	aCanvas submitButton		class: 'mt-3 col btn btn-primary';		callback: [ self register ];		with: 'Registrar'.! !!Registrar methodsFor: 'tools registry' stamp: 'Anonymous 12/30/2023 21:51'!register	QAApp soleInstance		crearUsuarioConNombre: nomUsuario		contrasenia: contrasenia.	self answer! !WASession subclass: #SesionDeUsuario	instanceVariableNames: 'user'	classVariableNames: ''	package: 'QAApp-ui'!!SesionDeUsuario methodsFor: 'accessing' stamp: 'FirstnameLastname 4/7/2021 15:49'!user	^user! !!SesionDeUsuario methodsFor: 'accessing' stamp: 'FirstnameLastname 4/7/2021 15:49'!estaLogeado	^ user isNil not.! !!SesionDeUsuario methodsFor: 'accessing' stamp: 'FirstnameLastname 4/7/2021 15:49'!user: unUser	user:= unUser! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SesionDeUsuario class	instanceVariableNames: 'soleInstance'!